!function(t,e){"use strict";var r=t.jQuery||t.Zepto,a=0,n=!1;function i(a,i,o,l,u){var f=0,c=-1,s=-1,d=!1,A="afterLoad",g="load",h="error",m="img",b="src",v="srcset",p="sizes",y="background-image";function z(){var e,n,f,A;d=t.devicePixelRatio>1,o=w(o),i.delay>=0&&setTimeout(function(){B(!0)},i.delay),(i.delay<0||i.combined)&&(l.e=(e=i.throttle,n=function(t){"resize"===t.type&&(c=s=-1),B(t.all)},A=0,function(t,r){var o=+new Date-A;function l(){A=+new Date,n.call(a,t)}f&&clearTimeout(f),o>e||!i.enableThrottle||r?l():f=setTimeout(l,e-o)}),l.a=function(t){t=w(t),o.push.apply(o,t)},l.g=function(){return o=r(o).filter(function(){return!r(this).data(i.loadedName)})},l.f=function(t){for(var e=0;e<t.length;e++){var r=o.filter(function(){return this===t[e]});r.length&&B(!1,r)}},B(),r(i.appendScroll).on("scroll."+u+" resize."+u,l.e))}function w(t){for(var n=i.defaultImage,o=i.placeholder,l=i.imageBase,u=i.srcsetAttribute,f=i.loaderAttribute,c=i._f||{},s=0,d=(t=r(t).filter(function(){var t=r(this),a=D(this);return!t.data(i.handledName)&&(t.attr(i.attribute)||t.attr(u)||t.attr(f)||c[a]!==e)}).data("plugin_"+i.name,a)).length;s<d;s++){var A=r(t[s]),g=D(t[s]),h=A.attr(i.imageBaseAttribute)||l;g===m&&h&&A.attr(u)&&A.attr(u,I(A.attr(u),h)),c[g]===e||A.attr(f)||A.attr(f,c[g]),g===m&&n&&!A.attr(b)?A.attr(b,n):g===m||!o||A.css(y)&&"none"!==A.css(y)||A.css(y,"url('"+o+"')")}return t}function B(t,e){if(o.length){for(var n=e||o,l=!1,u=i.imageBase||"",f=i.srcsetAttribute,c=i.handledName,s=0;s<n.length;s++)if(t||e||T(n[s])){var d=r(n[s]),A=D(n[s]),g=d.attr(i.attribute),h=d.attr(i.imageBaseAttribute)||u,p=d.attr(i.loaderAttribute);d.data(c)||i.visibleOnly&&!d.is(":visible")||!((g||d.attr(f))&&(A===m&&(h+g!==d.attr(b)||d.attr(f)!==d.attr(v))||A!==m&&h+g!==d.css(y))||p)||(l=!0,d.data(c,!0),L(d,A,h,p))}l&&(o=r(o).filter(function(){return!r(this).data(c)}))}else i.autoDestroy&&a.destroy()}function L(t,e,a,n){++f;var o=function(){E("onError",t),N(),o=r.noop};E("beforeLoad",t);var l=i.attribute,u=i.srcsetAttribute,c=i.sizesAttribute,s=i.retinaAttribute,z=i.removeAttribute,w=i.loadedName,B=t.attr(s);if(n){var L=function(){z&&t.removeAttr(i.loaderAttribute),t.data(w,!0),E(A,t),setTimeout(N,1),L=r.noop};t.off(h).one(h,o).one(g,L),E(n,t,function(e){e?(t.off(g),L()):(t.off(h),o())})||t.trigger(h)}else{var T=r(new Image);T.one(h,o).one(g,function(){t.hide(),e===m?t.attr(p,T.attr(p)).attr(v,T.attr(v)).attr(b,T.attr(b)):t.css(y,"url('"+T.attr(b)+"')"),t[i.effect](i.effectTime),z&&(t.removeAttr(l+" "+u+" "+s+" "+i.imageBaseAttribute),c!==p&&t.removeAttr(c)),t.data(w,!0),E(A,t),T.remove(),N()});var D=(d&&B?B:t.attr(l))||"";T.attr(p,t.attr(c)).attr(v,t.attr(u)).attr(b,D?a+D:null),T.complete&&T.trigger(g)}}function T(e){var a=e.getBoundingClientRect(),n=i.scrollDirection,o=i.threshold,l=(s>=0?s:s=r(t).height())+o>a.top&&-o<a.bottom,u=(c>=0?c:c=r(t).width())+o>a.left&&-o<a.right;return"vertical"===n?l:"horizontal"===n?u:l&&u}function D(t){return t.tagName.toLowerCase()}function I(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function N(){--f,o.length||f||E("onFinishedAll")}function E(t,e,r){return!!(t=i[t])&&(t.apply(a,[].slice.call(arguments,1)),!0)}"event"===i.bind||n?z():r(t).on(g+"."+u,z)}function o(n,o){var l=this,u=r.extend({},l.config,o),f={},c=u.name+"-"+ ++a;return l.config=function(t,r){return r===e?u[t]:(u[t]=r,l)},l.addItems=function(t){return f.a&&f.a("string"===r.type(t)?r(t):t),l},l.getItems=function(){return f.g?f.g():{}},l.update=function(t){return f.e&&f.e({},!t),l},l.force=function(t){return f.f&&f.f("string"===r.type(t)?r(t):t),l},l.loadAll=function(){return f.e&&f.e({all:!0},!0),l},l.destroy=function(){return r(u.appendScroll).off("."+c,f.e),r(t).off("."+c),f={},e},i(l,u,n,f,c),u.chainable?n:l}r.fn.Lazy=r.fn.lazy=function(t){return new o(this,t)},r.Lazy=r.lazy=function(t,a,n){if(r.isFunction(a)&&(n=a,a=[]),r.isFunction(n)){t=r.isArray(t)?t:[t],a=r.isArray(a)?a:[a];for(var i=o.prototype.config,l=i._f||(i._f={}),u=0,f=t.length;u<f;u++)(i[t[u]]===e||r.isFunction(i[t[u]]))&&(i[t[u]]=n);for(var c=0,s=a.length;c<s;c++)l[a[c]]=t[0]}},o.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},r(t).on("load",function(){n=!0})}(window);